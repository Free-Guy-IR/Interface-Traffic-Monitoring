<div align="center">
  <strong><a href="README-EN.md">English</a></strong> | <strong><a href="README.md">ูุงุฑุณ</a></strong> | <strong><a href="README-CH.md">ไธญๆ</a></strong>
</div>
<br>

# NetDash โ ุฏุงุดุจูุฑุฏ ูุงูุชูุฑูฺฏ ู ฺฉูุชุฑู ุชุฑุงูฺฉ ุดุจฺฉู

ฺฉ ูพูู ุณุจฺฉุ ุจุฏูู ุฏุชุงุจุณ ู ุชูุงูโุฎูุฏฺฉุงุฑ ุจุฑุง **ูุดุงูุฏูู ุฒูุฏูโ ุชุฑุงูฺฉ ุดุจฺฉูุ ูุญุฏูุฏุณุงุฒ ูพููุงโุจุงูุฏุ ูุณุฏูุฏุณุงุฒ ุฏุงููู/IPุ ูุงูุชูุฑ ูพูฺฏ** ู ุฎู ฺุฒูุง ุฏฺฏุฑ. ููุงุณุจ ุจุฑุง **ุณุฑูุฑูุง VPNุ ุฑูุชุฑูุง ุฎุงูฺฏ/ุณุงุฒูุงูุ ุฏูุงุชุฑ ู ุชูโูุง ฺฉูฺฺฉ**.

---
<img width="1256" height="616" alt="Screenshot (165)" src="https://github.com/user-attachments/assets/0ed26721-bd57-4613-926d-9666bbc4a912" />

## โจ ูุงุจูุชโูุง

- **ุฏุงุดุจูุฑุฏ ูุญุธูโุง ุดุจฺฉู:** ููุงุด ูุฑุฎ ุฏุงูููุฏ/ุขูพููุฏ ูุฑ ุงูุชุฑูุณ + ูููุฏุงุฑูุง ุฒูุฏู
- **ูุณุฏูุฏุณุงุฒ ุฏุงููู/IP/CIDR:** ุจุง ฺฉ ฺฉูฺฉุ ููุฑุงู **ุตูุญูู ูุดุฏุงุฑ ฺฉุงุฑุจุฑ** (HTTP 451) ุฏุฑ ุญุงูุช Page Mode
- **ูุญุฏูุฏุช ุณุฑุนุช (Shaping):** ุงุนูุงู ุณูู ุณุฑุนุช ุขูพููุฏ/ุฏุงูููุฏ ุจุฑุง ูุฑ ุงูุชุฑูุณ ุงุฒ ุฏุงุฎู ูพูู
- **ฺฏุฒุงุฑุดโูุง ุฑูุฒุงูู/ูุงูุงูู:** ุญุฌู ูุตุฑู ุชูฺฉฺฉโุดุฏู ุจู ุชูฺฉฺฉ ุงูุชุฑูุณ (Traffic usage)
- **ฺฉูุชุฑู ุงูุชุฑูุณโูุง:** ุฑูุดู/ุฎุงููุดโฺฉุฑุฏู ฺฉุงุฑุช ุดุจฺฉู ุงุฒ ุฏุงุฎู ูพูู
- **ูพุงุด ูพูฺฏ ู ฺฉูุช ุงูุชุฑูุช:** ูุญุงุณุจูู ูุงูฺฏูุ ุจุดููุ ูพุฑุณููุชุงู นตูช ู ูุฑุฎ Packet Loss
- **ููุงุด ุชุฑุงูฺฉ ุฒูุฏู ุจุฑ ุงุณุงุณ ูพูุฑุช:** ุงุฒ ุทุฑู conntrack (ฺฉุฑูู)
- **ุฑุงุจุท ูุงุฑุณ + ูุฏ ุชุฑู/ุฑูุดูุ ููุจุงูโูุฑูุฏู**
- **ุจุงุฒุณุงุฒ ุฎูุฏฺฉุงุฑ ููุงูู ุจุนุฏ ุงุฒ ุฑโุงุณุชุงุฑุช** (iptables/ipset/dnsmasq)
- **ุจุฏูู ุฏุชุงุจุณ**ุ ูุตุจ ุณุงุฏู ุฑู ูููฺฉุณ

---

## ๐ ูุตุจ ุณุฑุน (ฺฉโุฎุท)

ุงุณฺฉุฑูพุช ูุตุจ ุชูุงู ูพุดโูุงุฒูุง ุฑุง ุขูุงุฏูุ ุณุฑูุณโูุง ุฑุง ุชูุธู ู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ:

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/Free-Guy-IR/Interface-Traffic-Monitoring/main/netdash-install.sh)
```

> ุงุณฺฉุฑูพุช ุฏุฑ ุตูุฑุช ูุงุฒ **systemd-resolved** ุฑุง ุบุฑูุนุงู ู `/etc/resolv.conf` ุฑุง ุจู `127.0.0.1` ุชูุธู ูโฺฉูุฏ ู `dnsmasq` ุฑุง ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ. ููุงูู ูุงุฑูุงู ุชูุณุท ุฎูุฏ ุจุฑูุงูู ูุฏุฑุช ูโุดูุฏ.

ูพุณ ุงุฒ ูุตุจุ ูพูู ุฑู ุงู ุขุฏุฑุณ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

```
http://SERVER_IP:18080/
```

---

## ๐ง ููู ูุฏุฑุช (ุงุณฺฉุฑูพุช)
ุงุณฺฉุฑูพุช ูุตุจ ฺฉ ููู ูุชู ุงุฑุงุฆู ูโฺฉูุฏ:
1. **Install / Reinstall** โ ูพุดโูุงุฒูุง + ุฏุงูููุฏ ฺฉุฏ + ุณุงุฎุช ุณุฑูุณ systemd
2. **Update from GitHub** โ ุจุฑูุฒโุฑุณุงู ุณูุฑุณ ุจุฑูุงูู
3. **Edit .env** โ ูุฑุงุด ุชูุธูุงุช ูุญุท ุฏุฑ `/etc/netdash.env`
4. **View Live Logs** โ ูุดุงูุฏูู ูุงฺฏ ุฒูุฏูู ุณุฑูุณ
5. **Stop** / **6. Start** โ ูุฏุฑุช ุณุฑูุณ
7. **Remove Completely** โ ุญุฐู ฺฉุงูู ุณุฑูุณ ู ูุงูโูุง
8. **Status** โ ูุถุนุช ุณุฑูุณ

---

## โ๏ธ ุชูุธูุงุช ูุญุท (ENV)

ูุงู ุชูุธูุงุช ุฏุฑ ูุณุฑ `/etc/netdash.env` ุฐุฎุฑู ูโุดูุฏ. ูููโุชุฑู ูุชุบุฑูุง:

| ูุชุบุฑ | ูพุดโูุฑุถ | ุชูุถุญ |
|---|---|---|
| `NETDASH_PORT` | `18080` | ูพูุฑุช ูพูู ูุจ |
| `NETDASH_BLOCK_PORT` | `18081` | ูพูุฑุช ุตูุญูู ูุดุฏุงุฑ HTTP |
| `NETDASH_TOKEN` | ุฎุงู | ุงฺฏุฑ ุณุช ุดูุฏุ ุจุงุฏ ูุฏุฑ `X-Auth-Token` ุจุฑุง ุนููุงุช ูุฏุฑุช ุงุฑุณุงู ุดูุฏ |
| `NETDASH_MAX_POINTS` | `120` | ุญุฏุงฺฉุซุฑ ููุงุท ูุฑ ูููุฏุงุฑ |
| `NETDASH_IPSET_MODE` | `1` | ุงุณุชูุงุฏู ุงุฒ `dnsmasq + ipset` ุจุฑุง ุจูุงฺฉ ุฏุงูููโูุง |
| `NETDASH_SNI_BLOCK` | `1` | ุงูุฒูุฏู ููุงูู SNI ุจุฑุง TLS/443 |
| `NETDASH_PAGE_MODE` | `1` | ุฑุฏุงุฑฺฉุช HTTP ุจู ุตูุญูู ูุณุฏูุฏุณุงุฒ (ูพูุฑุช Block) |
| `NETDASH_SNI_LEARN` | `1` | ุงุฏฺฏุฑ IPูุง ููุตุฏ ุงุฒ SNI ู ุงูุฒูุฏู ุจู ipset |
| `NETDASH_SNI_IFACES` | ุฎุงู | ูุณุช ุงูุชุฑูุณโูุง ุจุฑุง SNI Learnerุ ุฌุฏุง ุจุง ฺฉุงูุง (ุงุฎุชุงุฑ) |
| `NETDASH_ENFORCE_DNS` | `1` | ุฑุฏุงุฑฺฉุช DNS ฺฉูุงูุชโูุง ุจู DNS ููฺฉุงู (iptables nat) |
| `NETDASH_BLOCK_DOT` | `0` | ุจูุงฺฉ DoT/DoQ (ูพูุฑุชโูุง 853/TCP ู 8853/UDP) |
| `NETDASH_PRELOAD_META` | `0` | ูพุดโุจุงุฑฺฏุฐุงุฑ ฺูุฏ ุฏุงูููู ูพุดโูุฑุถ ุจุฑุง ุจูุงฺฉ |
| `NETDASH_AUTO_PIP` | `1` | ูุตุจ ุฎูุฏฺฉุงุฑ `scapy` ุฏุฑ ุตูุฑุช ูุงุฒ |
| `NETDASH_PORTS_MONITOR` | `1` | ูุนุงูโุณุงุฒ ูุงูุชูุฑ ูพูุฑุชโูุง (conntrack) |
| `NETDASH_PORTS_INTERVAL` | `1.0` | ุจุงุฒูู ูููููโุจุฑุฏุงุฑ ูุงูุชูุฑ ูพูุฑุชโูุง (ุซุงูู) |
| `NETDASH_PING_TARGETS` | `1.1.1.1,8.8.8.8,9.9.9.9` | ูุณุช ููุตุฏูุง ูพูฺฏ |
| `NETDASH_PING_INTERVAL` | `5.0` | ูุงุตููู ูพูฺฏโูุง (ุซุงูู) |
| `NETDASH_PING_WINDOW` | `50` | ุงูุฏุงุฒูู ูพูุฌุฑูู ูุญุงุณุจูู ุขูุงุฑ ูพูฺฏ |

> ููุฑุณุช ฺฉุงูู ูุชุบุฑูุง ุฏุฑ ฺฉุฏ ููุจุน `netdash.py` ููุฌูุฏ ุงุณุช.

---

## ๐๏ธ ูุงูโูุง ู ูพูุฑุณุณุชูุณ

NetDash ฺฉ ูุณุฑ ุฏุงุฏู ุฑุง ุจูโุชุฑุชุจ ุงูููุช ุงูุชุฎุงุจ ูโฺฉูุฏ (ุงููู ูุณุฑ ูุงุจูโููุดุชู):
1. `/var/lib/netdash/`
2. `~/.local/share/netdash/`
3. `/tmp/netdash/`

ูุงูโูุง ุฏุงุฏูโุง ุฏุฑ ุงู ูุณุฑ ุงุฌุงุฏ ูโุดููุฏ:
- `history.json` โ ุชุงุฑุฎฺูู ูุญุธูโุง ูุฑุฎ ุฏุงูููุฏ/ุขูพููุฏ (ุจุฑุง ูููุฏุงุฑูุง)
- `totals.json` โ ูุฌููุน ุชุฑุงูฺฉ ูุฑ ุงูุชุฑูุณ + ุขุฎุฑู ุดูุงุฑูุฏูโูุง ุณุณุชู
- `period_totals.json` โ ุชุฌูุน ุฑูุฒุงูู/ูุงูุงููู ุฏุงูููุฏ/ุขูพููุฏ ุจู ุชูฺฉฺฉ ุงูุชุฑูุณ
- `filters.json` โ ุงููุงู ุจูุงฺฉโูุณุช ู ูุถุนุช ุงุนูุงูโุดุฏู ุขูโูุง
- `blocks_registry.json` โ ุงูุฏฺฉุณ ุฌุงูุจ ุจุฑุง ููุงุด/ุจุงุฒุณุงุฒ ุจููฺฉโูุง
- `sni-seen.log` โ ูุงฺฏ ุฑูุฏุงุฏูุง SNI ูุดุงูุฏูโุดุฏู
- `sni-index.json` โ ุงูุฏฺฉุณ ุฏุงูููโIPูุง ูุดุงูุฏูโุดุฏู (ุจุฑุง preseed)
- `ports_totals.json` โ ูุฌููุน ุฏุงูููุฏ/ุขูพููุฏ ุจุฑ ุงุณุงุณ ูพูุฑุช (conntrack)

ููฺูู ูุงู ูพฺฉุฑุจูุฏ dnsmasq ุฏุฑ ูุณุฑ ุฒุฑ ุณุงุฎุชู/ุจุงุฒุณุงุฒ ูโุดูุฏ:
- `/etc/dnsmasq.d/netdash-blocks.conf` โ ุงุชุตุงู ุฏุงูููโูุง ุจู ipsetูุง

---

## ๐ ูฺฉุงุช ุงููุช
- ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ุชุบุฑุฏููุฏู (ุงูุฒูุฏู/ุญุฐู ููุชุฑูุงุ ุงุนูุงู ูุญุฏูุฏุช ูโฆ)ุ **ุชูฺฉู** ุชูุธู ฺฉูุฏ ู ุงุฒ ูุฏุฑ `X-Auth-Token: <TOKEN>` ุงุณุชูุงุฏู ฺฉูุฏ.
- ูพูู ุฑุง ูพุดุช ูุงุฑูุงู ุง ููุท ุฑู ููฺฉุงูโูุช ุฏุฑ ุฏุณุชุฑุณ ุจฺฏุฐุงุฑุฏ ู ุฏุฑ ุตูุฑุช ูุงุฒ **Reverse Proxy + TLS** ูุฑุงุฑ ุฏูุฏ.

---

## ๐งฐ ุฏุณุชูุฑุงุช ุณุฑูุณ

```bash
# ูุถุนุช/ูุงฺฏ
sudo systemctl status netdash
sudo journalctl -u netdash -f

# ุดุฑูุน/ุชููู/ุฑโุงุณุชุงุฑุช
sudo systemctl start netdash
sudo systemctl stop netdash
sudo systemctl restart netdash
```

---

## ๐ฉบ ุนุจโุงุจ

- **dnsmasq ุฑู ูพูุฑุช 53 ุจุงูุง ููโุขุฏ (port in use):**โ
  ```bash
  sudo systemctl disable --now systemd-resolved
  echo 'nameserver 127.0.0.1' | sudo tee /etc/resolv.conf
  sudo systemctl enable --now dnsmasq
  sudo systemctl restart dnsmasq && systemctl status dnsmasq
  ```
- **ููุงูู iptables ุงุนูุงู ููโุดูุฏ:** ูุทูุฆู ุดูุฏ ฺฉุงุฑุจุฑ ุงุฌุงุฒูู sudo ุจุฏูู ูพุณูุฑุฏ ุจุฑุง ุฏุณุชูุฑุงุช ุดุจฺฉู ุฑุง ุฏุงุฑุฏ ุง ุจุฑูุงูู ุฑุง ุจุง ฺฉุงุฑุจุฑ ุฑูุช ุงุฌุฑุง ฺฉูุฏ.
- **ูุงฺฏ ุณุฑูุณ ุฑุง ุจุจูุฏ:** `journalctl -u netdash -f`
- **ูพูุฑุช ูพูู ุจุงุฒ ูุณุช:** ูุงุฑูุงู ุณุณุชู ุง Cloud/Provider ุฑุง ุจุฑุฑุณ ฺฉูุฏ (ูพูุฑุช ูพุดโูุฑุถ 18080).

---

## ๐จโ๐ป ุชูุณุนู

- ฺฉุฏ ุงุตู: [`netdash.py`](https://github.com/Free-Guy-IR/Interface-Traffic-Monitoring/blob/main/netdash.py)
- ุงุณฺฉุฑูพุช ูุตุจ: [`netdash-install.sh`](https://github.com/Free-Guy-IR/Interface-Traffic-Monitoring/blob/main/netdash-install.sh)

ูพุดููุงุฏ/ุจุงฺฏโุฑูพูุฑุชโูุง ุฑุง ุฏุฑ Issues ุซุจุช ฺฉูุฏ ๐

---

## ๐ ุญูุงุช
ุงฺฏุฑ NetDash ุจุฑุงุชุงู ููุฏ ุจูุฏุ ูุทูุงู ุจุง โญ๏ธ ุฏุงุฏู ุจู ูุฎุฒู ุงุฒ ูพุฑูฺู ุญูุงุช ฺฉูุฏ.
